{
  "openapi": "3.0.1",
  "info": {
    "title": "OpenAPI definition",
    "version": "v0"
  },
  "servers": [
    {
      "url": "http://10.83.154.185:8080",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "å…¬äº¤æŸ¥è¯¢æ¨¡å—",
      "description": "åŒ…å«ç«™ç‚¹æŸ¥è¯¢ã€çº¿è·¯æŸ¥è¯¢åŠè·¯å¾„è§„åˆ’"
    }
  ],
  "paths": {
    "/api/admin/station": {
      "post": {
        "tags": [
          "bus-admin-controller"
        ],
        "operationId": "addStation",
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/line": {
      "post": {
        "tags": [
          "bus-admin-controller"
        ],
        "operationId": "addLine",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "object"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/stations": {
      "get": {
        "tags": [
          "å…¬äº¤æŸ¥è¯¢æ¨¡å—"
        ],
        "summary": "è·å–æ‰€æœ‰ç«™ç‚¹",
        "description": "è¿”å›åœ°å›¾ä¸Šæ‰€æœ‰çš„ç«™ç‚¹åˆ—è¡¨",
        "operationId": "getAllStations",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Station"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/stations/search": {
      "get": {
        "tags": [
          "å…¬äº¤æŸ¥è¯¢æ¨¡å—"
        ],
        "summary": "æœç´¢ç«™ç‚¹",
        "description": "æ”¯æŒ ID ç²¾ç¡®æŸ¥è¯¢ æˆ– åç§°æ¨¡ç³ŠæŸ¥è¯¢",
        "operationId": "findStations",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "ç«™ç‚¹ID(æ•°å­—) æˆ– ç«™ç‚¹åç§°(ä¸­æ–‡)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Station"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/station/{identifier}/lines": {
      "get": {
        "tags": [
          "å…¬äº¤æŸ¥è¯¢æ¨¡å—"
        ],
        "summary": "æŸ¥è¯¢æŸç«™ç‚¹çš„ç»è¿‡çº¿è·¯",
        "description": "ç‚¹å‡»æŸä¸ªç«™ç‚¹æ—¶ï¼Œæ˜¾ç¤ºç»è¿‡è¯¥ç«™çš„æ‰€æœ‰å…¬äº¤çº¿",
        "operationId": "getLinesByStation",
        "parameters": [
          {
            "name": "identifier",
            "in": "path",
            "description": "ç«™ç‚¹ID æˆ– ç«™ç‚¹åç§°",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Road"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/routes": {
      "get": {
        "tags": [
          "å…¬äº¤æŸ¥è¯¢æ¨¡å—"
        ],
        "summary": "è·å–æ‰€æœ‰çº¿è·¯",
        "description": "è¿”å›æ‰€æœ‰å…¬äº¤çº¿è·¯ä¿¡æ¯",
        "operationId": "getAllRoutes",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Road"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/routes/plan": {
      "get": {
        "tags": [
          "å…¬äº¤æŸ¥è¯¢æ¨¡å—"
        ],
        "summary": "ğŸš€ è·¯å¾„è§„åˆ’æ ¸å¿ƒæ¥å£",
        "description": "å‰ç«¯è¾“å…¥èµ·ç‚¹ç»ˆç‚¹ï¼Œåç«¯è®¡ç®—æœ€ä¼˜æ¢ä¹˜",
        "operationId": "planRoute",
        "parameters": [
          {
            "name": "start",
            "in": "query",
            "description": "èµ·ç‚¹ï¼ˆåç§°æˆ–IDï¼‰",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end",
            "in": "query",
            "description": "ç»ˆç‚¹ï¼ˆåç§°æˆ–IDï¼‰",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "maxTransfers",
            "in": "query",
            "description": "æœ€å¤§æ¢ä¹˜æ¬¡æ•°",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 2
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RouteResultDTO"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/line/{identifier}/stations": {
      "get": {
        "tags": [
          "å…¬äº¤æŸ¥è¯¢æ¨¡å—"
        ],
        "summary": "æŸ¥è¯¢æŸçº¿è·¯çš„æ‰€æœ‰ç«™ç‚¹",
        "description": "æŸ¥çœ‹æŸæ¡å…¬äº¤çº¿ï¼ˆå¦‚1è·¯ï¼‰å…·ä½“ç»è¿‡å“ªäº›ç«™",
        "operationId": "getStationsByLine",
        "parameters": [
          {
            "name": "identifier",
            "in": "path",
            "description": "çº¿è·¯ID æˆ– çº¿è·¯åç§°",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Station"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/station/{id}": {
      "delete": {
        "tags": [
          "bus-admin-controller"
        ],
        "operationId": "deleteStation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/line/{id}": {
      "delete": {
        "tags": [
          "bus-admin-controller"
        ],
        "operationId": "deleteLine",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Station": {
        "type": "object",
        "properties": {
          "stationId": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "stationName": {
            "type": "string",
            "refType": null
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "refType": null
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "refType": null
          }
        }
      },
      "Road": {
        "type": "object",
        "properties": {
          "lineOrder": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "lineName": {
            "type": "string",
            "refType": null
          },
          "direction": {
            "type": "string",
            "refType": null
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "refType": null
          },
          "finishTime": {
            "type": "string",
            "format": "date-time",
            "refType": null
          },
          "intervalTime": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "stationIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "refType": "integer"
          }
        }
      },
      "RouteResultDTO": {
        "type": "object",
        "properties": {
          "routeId": {
            "type": "string",
            "description": "è·¯çº¿å”¯ä¸€ID",
            "refType": null
          },
          "duration": {
            "type": "integer",
            "description": "é¢„è®¡è€—æ—¶(åˆ†é’Ÿ)",
            "format": "int32",
            "refType": null
          },
          "segments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SegmentDTO"
            },
            "refType": "SegmentDTO"
          },
          "transfers": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "totalStops": {
            "type": "integer",
            "format": "int32",
            "refType": null
          }
        }
      },
      "SegmentDTO": {
        "type": "object",
        "properties": {
          "lineOrder": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "lineName": {
            "type": "string",
            "refType": null
          },
          "fromSid": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "toSid": {
            "type": "integer",
            "format": "int32",
            "refType": null
          },
          "stations": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "refType": "integer"
          },
          "stopsCount": {
            "type": "integer",
            "format": "int32",
            "refType": null
          }
        }
      }
    }
  },
  "x-openapi": {
    "x-markdownFiles": []
  }
}